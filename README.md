# yys_ocr
阴阳师御魂识别系统

工作原理： 1.由 yys_ocr.py里的yys类负责对阴阳师的界面调整，以及获取完整游戏界面截图
          2.由 yys_ocr.py里的OCR类负责对游戏截图进行解析， 找出3个需要的小图片， 用tesseract对御魂名字，属性，套装属性3个小图片识别。
          3.panel.py是主界面，里面有一些业务逻辑。
          4.showtable，mainWindow 两个文件是界面ui用的，由pyqt5的designer自动生成。
          5. tessdata下放的是训练文件， 预想是3个不同位置的图片使用3个不同的训练文件，防止串字。
          6. findcolor.py 是一个我用来从截图里多点找色的工具， 以实现自动找御魂名字，属性，套装属性3个图，但是不太好用。

已经验证： tesseract属性的识别率还不错， 但是我自己训练的字符集只包括了属性的字符，御魂名字的还没有训练好（训练过，识别率不太满意）

待解决问题：
1.我是先用PIL截了游戏界面的图像，这样坐标系就比较简单了，游戏的左上角是0，0。 问题是如何在截图里准确的找到御魂名字，属性，套装属性的3个小截图。

2.只有首领御魂需要识别套装属性，但是那个图片对比度很差，识别效果不太好。

3. 最坑的是， win7，win10，对DPI的缩放处理，使得不同电脑上得到的截图效果不一样，和系统设置有关，win7和win10即使设置相同截图也有区别。
